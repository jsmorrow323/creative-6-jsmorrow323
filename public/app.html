<!DOCTYPE html>
<html>
    <head>
        <title>Joe's Creative-Project-6 Authentication</title>
        <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
        <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
        <script src="javascripts/TTT.js"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <!-- Firebase App is always required and must be first -->
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-app.js"></script>
        
        <!-- Add additional services that you want to use -->
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-messaging.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-functions.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyAbnPTwWDAczoxEAoIDNXrTjSej9D74G8w",
            authDomain: "ttt-authenticate.firebaseapp.com",
            databaseURL: "https://ttt-authenticate.firebaseio.com",
            projectId: "ttt-authenticate",
            storageBucket: "ttt-authenticate.appspot.com",
            messagingSenderId: "336915092320"
          };
        </script>
        
      <script src="/__/firebase/5.6.0/firebase-app.js"></script>
      <script src="/__/firebase/5.6.0/firebase-auth.js"></script>
      <script src="/__/firebase/init.js"></script>
      
      <script>
        function initApp() {
          // Listening for auth state changes.
          // [START authstatelistener]
          firebase.auth().onAuthStateChanged(function(user) {
            // [START_EXCLUDE silent]
            // [END_EXCLUDE]
            if (user) {
              // User is signed in.
              // [END_EXCLUDE]
            } else {
              // User is signed out.
              // [START_EXCLUDE]
                alert("Unauthenticated! Please Sign-in");
                window.location = 'https://ttt-authenticate.firebaseapp.com/'; //If User is not logged in, redirect to login page
              // [END_EXCLUDE]
            }
            // [START_EXCLUDE silent]

            // [END_EXCLUDE]
          });
          // [END authstatelistener]
        }
        window.onload = function() {
          initApp();
        };
      });
      </script>
    
    </head>
    
    <body>
        <span>Signed In!</span>
        <h1>Let's Play Tic-Tac-Toe</h1>
        <h2>Enter Player Names and Get Started!</h2>
        <hr> <br>
        <div class="form">
            <form>
                <input type="text" id="player1" placeholder="Player 1">
                <input type="text" id="player2" placeholder="Player 2"><br>
            </form>
        </div> <br> <br> <br>
        
        <table class="table">
    		<tbody><tr class="row">
    			<td class="cell" data-row="0" data-column="0" id="1" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="0" data-column="1" id="2" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="0" data-column="2" id="3" onclick="gameTurn(this.id)"></td>
    		</tr>
    		<tr class="row">
    			<td class="cell" data-row="1" data-column="0" id="4" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="1" data-column="1" id="5" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="1" data-column="2" id="6" onclick="gameTurn(this.id)"></td>
    		</tr>
    		<tr class="row">
    			<td class="cell" data-row="2" data-column="0" id="7" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="2" data-column="1" id="8" onclick="gameTurn(this.id)"></td>
    			<td class="cell" data-row="2" data-column="2" id="9" onclick="gameTurn(this.id)"></td>
    		</tr>
    	    </tbody>
	    </table>
    </body>
</html>